sudo: false
language: ruby
rvm:
  - 2.5.1
addons:
  postgresql: '9.6'
before_install:
  - gem install bundler -v 1.16.4
services:
  - docker
stages:
  - Lints & Test
  - Pre-Deploy
jobs:
  include:
    - stage: Lints & Test
      env: TASK=security
    - env: TASK=linting
    - env: TASK=test
    - stage: Pre-Deploy
      env: TASK=webpack
script: ./ci/travis-ci
